<app-header></app-header>

<main>
  <section class="hero" aria-label="Promoções">
    <div class="hero-text center">
      <h1>Promoções</h1>
      <p class="subtitle">Aproveite descontos exclusivos em peças selecionadas.</p>
    </div>
  </section>
  <section class="products-section" aria-labelledby="products-title">
    <div class="product-table-container">
      <div class="products-toolbar">
        <div class="search">
          <input type="search" placeholder="Buscar produtos, ex: vestido" [(ngModel)]="searchQuery" />
        </div>
        <div class="sort">
          <label for="sort">Ordenar:</label>
          <select id="sort" [(ngModel)]="sortBy">
            <option value="default">Mais relevantes</option>
            <option value="price-asc">Menor preço</option>
            <option value="price-desc">Maior preço</option>
            <option value="discount">Maior desconto</option>
          </select>
        </div>
        <div class="result-count">Mostrando {{ produtosFiltrados.length }} de {{ produtoempromocao.length }}</div>
      </div>

      <div class="category-chips">
        <button class="chip" (click)="filterBy(null)" [class.active]="!selectedCategory">Todas</button>
        <button class="chip" (click)="filterBy('Vestidos')" [class.active]="selectedCategory === 'Vestidos'">Vestidos</button>
        <button class="chip" (click)="filterBy('Calças')" [class.active]="selectedCategory === 'Calças'">Calças</button>
        <button class="chip" (click)="filterBy('Blusas')" [class.active]="selectedCategory === 'Blusas'">Blusas</button>
        <button class="chip" (click)="filterBy('Inverno')" [class.active]="selectedCategory === 'Inverno'">Inverno</button>
        <button class="chip" (click)="filterHalfOff()" [class.active]="selectedHalfOff">50% OFF</button>
      </div>

      <div class="filters-and-products">
        <aside class="sidebar-filters">
          <h3>Filtrar por Categoria</h3>
          <ul>
            <li><button (click)="filterBy(null)" [class.active]="!selectedCategory">Todas ({{ produtoempromocao.length }})</button></li>
            <li><button (click)="filterBy('Vestidos')" [class.active]="selectedCategory === 'Vestidos'">Vestidos ({{ quantidadeVestidosEmPromocao }})</button></li>
            <li><button (click)="filterBy('Calças')" [class.active]="selectedCategory === 'Calças'">Calças</button></li>
            <li><button (click)="filterBy('Blusas')" [class.active]="selectedCategory === 'Blusas'">Blusas</button></li>
            <li><button (click)="filterBy('Inverno')" [class.active]="selectedCategory === 'Inverno'">Inverno</button></li>
            <li><button (click)="filterHalfOff()" [class.active]="selectedHalfOff">50% OFF</button></li>
          </ul>
        </aside>

        <div class="product-list-grid">
          <app-card-produto *ngFor="let produto of produtosFiltrados | promoSearch:searchQuery | promoSort:sortBy" [product]="produto"></app-card-produto>
        </div>
      </div>
    </div>
  </section>

</main>

<app-footer></app-footer>
